<div *ngIf="loading" class="row">
  <div class="offset-md-5 col-md-1">
      <p-progressSpinner></p-progressSpinner>
  </div>
</div>

<ng-container *ngIf="workoutPlan">
  <div class="container-fluid form-group">
    <h2 class="headroom">Plan Your Workout</h2>
    <div class="row"></div>
    <form [formGroup]="workoutPlanForm" novalidate>
      <div class="row">
        <div class="col-12">
            <input type="hidden" formControlName="workoutId" />
            <h3>{{workoutPlanForm.controls['workoutName'].value}}</h3>
        </div>
      </div>

      <wt-exercise-plan 
        *ngFor="let exercise of exercisesArray.controls; let i=index"
        [formGroup]="exercise"
        (resistanceBandsModalRequested)="resistanceBandsModalEnabled($event)">
      </wt-exercise-plan>
      
      <div class="row">
        <div class="col-12">
          <button type="submit" class="btn btn-primary" (click)="startWorkout()">Start Workout</button>
        </div>
      </div>
      
    </form>

    <p-dialog header="Select Resistance Bands" [(visible)]="showResistanceBandsSelectModal">
      <wt-resistance-band-select
        [resistanceBandInventory]="allResistanceBands"
        (okClicked)="resistanceBandsModalAccepted($event)"
        (cancelClicked)="resistanceBandsModalCancelled()">
      </wt-resistance-band-select>
    </p-dialog>
  </div>
</ng-container>

