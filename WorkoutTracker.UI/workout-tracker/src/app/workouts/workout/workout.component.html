<div class="container-fluid form-group">
  <div *ngIf="loading" class="row">
      <div class="offset-md-5 col-md-1">
          <p-progressSpinner></p-progressSpinner>
      </div>
  </div>

  <form *ngIf="workoutForm && !loading" [formGroup]="workoutForm" novalidate>
    <h3 class="headroom">Workout</h3>
    
    <div class="row">
      <div class="col-md-12 form-group">
        <label>Select a Workout</label>&nbsp;
        <select formControlName="workoutDefinitions" id="workoutDefinitions" (change)="workoutSelected($event)">
          <option value="" selected disabled>Choose a Workout</option>
          <option *ngFor="let workout of workouts; let i = index" [value]="workouts[i].id">
            {{workouts[i].name}}
          </option>          
        </select>
      </div>
    </div>

    <ng-container *ngIf="workout != null">
      <wt-workout-exercise 
        *ngFor="let exercise of exercisesArray.controls; let i = index" 
        [formGroup]="exercise" 
        (resistanceBandsSelect)="resistanceBandsModalEnabled('something')">
      </wt-workout-exercise>
    </ng-container>

    <button type="submit" class="btn btn-primary" *ngIf="workout != null" [disabled]="!workoutForm.valid">Complete Workout</button>
  </form>
  <p-dialog header="Select Resistance Bands" [(visible)]="showResistanceBandsSelectModal">
    <wt-resistance-band-select [resistanceBandInventory]="allResistanceBands"></wt-resistance-band-select>
  </p-dialog>
</div>